{"version":3,"sources":["../../src/pages/welcome/welcome.module.ts","../../src/pages/index.ts","../../src/pages/welcome/welcome.ts"],"names":[],"mappings":"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","file":"49.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { TranslateModule } from '@ngx-translate/core';\nimport { IonicPageModule } from 'ionic-angular';\n\nimport { WelcomePage } from './welcome';\n\n@NgModule({\n  declarations: [\n    WelcomePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(WelcomePage),\n    TranslateModule.forChild()\n  ],\n  exports: [\n    WelcomePage\n  ]\n})\nexport class WelcomePageModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.module.ts","// The page the user lands on after opening the app and without a session\nexport const FirstRunPage = 'WelcomePage';\n\n// The main page the user will see as they use the app over a long period of time.\n// Change this if not using tabs\n// export const MainPage = 'PlantsPage';\nexport const MainPage = 'HomePage';\n\n// The initial root pages for our tabs (remove if not using tabs)\nexport const Tab1Root = 'WelcomePage';\nexport const Tab2Root = 'SearchPage';\nexport const Tab3Root = 'SettingsPage';\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/index.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport { Facebook, FacebookLoginResponse } from '@ionic-native/facebook';\nimport { GooglePlus } from '@ionic-native/google-plus';\nimport { Database } from '../../providers';\nimport { MainPage } from '../../pages';\n\n/**\n * The Welcome Page is a splash page that quickly describes the app,\n * and then directs the user to create an account or log in.\n * If you'd like to immediately put the user onto a login/register page,\n * we recommend not using the Welcome page.\n*/\n@IonicPage()\n@Component({\n  selector: 'page-welcome',\n  templateUrl: 'welcome.html'\n})\nexport class WelcomePage {\n\n  constructor(public navCtrl: NavController, private fb: Facebook, private googlePlus: GooglePlus, public database: Database) {\n  }\n\n  facebookLogin() {\n\n    this.fb.login(['public_profile', 'email'])\n      .then((res: FacebookLoginResponse) => {\n        this.fb.api(\"me?fields=id,name,email,first_name,picture.width(320).height(320).as(picture_large)\", []).then((user) => {\n            let metadata = { email: user.email, name: user.name, picture: user.picture_large.data.url, facebook_id: user.id }\n            this.database.login({ email: user.email, password: 'fbid_'+user.id }).then((resp) => {\n              this.navCtrl.setRoot(MainPage);\n            }).catch((e) => {\n              metadata['password'] = Math.random().toString(36).slice(-6)\n              this.database.register(metadata).then((resp) => {\n                if (resp) {\n                  this.navCtrl.setRoot(MainPage);\n                }\n              });\n            })\n         })\n      }).catch(e => console.log('Error logging into Facebook', e));\n  }\n\n  googleLogin() {\n\n    this.googlePlus.login()\n    .then(user => {\n      this.database.register({ type: 'user', email: user.email, name: user.displayName, picture: user.imageUrl, google_id: user.userId }).then((resp) => {\n        this.navCtrl.setRoot(MainPage);\n      }).catch((e) => {\n        if (e.name == 'conflict') {\n          this.database.login(user.email).then((resp) => {\n            if (resp) {\n              this.navCtrl.setRoot(MainPage);\n            }\n          });\n        }\n      })\n\n    }).catch(err => console.error(err));\n\n  }\n  login() {\n    this.navCtrl.push('LoginPage');\n  }\n\n  guest() {\n    this.navCtrl.push('HomePage');\n    // this.database.login({ email: 'convidado@redeagroflorestal.com.br', password: 'agrofloresta'}).then((resp) => {\n    //   if (resp) {\n    //     this.navCtrl.setRoot(MainPage);\n    //   }\n    // }).catch(err => {\n    //   console.error(err)\n    //   this.database.register({ email: 'convidado@redeagroflorestal.com.br', password: 'agrofloresta', name: 'Convidado' }).then((resp) => {\n    //     if (resp) {\n    //       this.navCtrl.setRoot(MainPage);\n    //     }\n    //   })\n    // })\n  }\n\n  register() {\n    this.navCtrl.push('RegisterPage');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/welcome/welcome.ts"],"sourceRoot":""}